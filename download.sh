#!/bin/bash
# Could use Go WaitGroup as well: https://pkg.go.dev/sync#example-WaitGroup

month_array=("JANUARY" "FEBRUARY" "MARCH" "APRIL" "MAY" "JUNE" "JULY" "AUGUST" "SEPTEMBER" "OCTOBER" "NOVEMBER" "DECEMBER")

year_array=("2023" "2022" "2021" "2020" "2019" "2018")

url_array=(
    "DocumentCenter/View/75488/FEBRUARY-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/76678/MARCH-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/76679/APRIL-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/76950/MAY-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/76951/JUNE-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77332/JULY-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77333/AUGUST-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77978/SEPTEMBER-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77979/OCTOBER-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77980/NOVEMBER-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/77981/DECEMBER-2023-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71434/JANUARY-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71621/FEBRUARY-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71737/MARCH-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71915/APRIL-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/72483/MAY-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/73001/JUNE-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/73002/JULY-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/73003/AUGUST-2022-NEW-BUSIENSS-LICENSES"
    "DocumentCenter/View/74340/SEPTEMBER-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/74341/OCTOBER-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/74342/NOVEMBER-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/74571/DECEMBER-2022-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71433/DECEMBER-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71432/NOVEMBER-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/70850/OCTOBER-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/70735/SEPTEMBER-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/70734/AUGUST-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/70733/JULY-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71460/JUNE-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71459/MAY-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/71458/APRIL-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/69402/MARCH-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/69401/FEBRUARY-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/65798/JANUARY-2021-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/65653/DECEMBER-2020-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/65464/NOVEMBER-2020-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/65225/OCTOBER-2020-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/64928/SEPTEMBER-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/64202/AUGUST-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/64201/JULY-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63963/JUNE-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63824/MAY-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63823/APRIL-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63437/MARCH-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63223/FEBRUARY-2020-BUSINESS-LICENSES"
    "DocumentCenter/View/63062/JANUARY-2020-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/62842/DECEMBER-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/62426/NOVEMBER-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/62241/OCTOBER-2019-BUSINESS-LICENSE-LIST"
    "DocumentCenter/View/62031/SEPTEMBER-2019-BUSINESS-LICENSES"
    "DocumentCenter/View/61972/AUGUST-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/61971/JULY-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/61970/JUNE-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/61969/MAY-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/61968/APRIL-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/60872/MARCH-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/60871/FEBRUARY-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/60870/JANUARY-2019-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/60869/DECEMBER-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/59724/NOVEMBER-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/59458/OCTOBER-2018-NEW-BUSINESS-LICENSE"
    "DocumentCenter/View/59201/SEPTEMBER-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/59202/AUGUST-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/58914/JULY-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/58616/JUNE-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/58168/MAY-2018-NEW-BUSINESS-LICENSES"
    "DocumentCenter/View/57994/APRIL-2018-NEW-BUSINESS-LICENSES"
)

MONTH=""
YEAR=""

for i in ${url_array[@]}; do
    for m in ${month_array[@]}; do
        if [[ "$i" =~ "$m" ]]; then
            MONTH=$m
        fi
    done
    for y in ${year_array[@]}; do
        if [[ "$i" =~ "$y" ]]; then
            YEAR=$y
        fi
    done
    curl -L \
        "https://www.flagstaff.az.gov/${i}" \
    --output "${MONTH}-${YEAR}.pdf"
done
